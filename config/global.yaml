# Global Configuration for URL Organizer
# This file controls how URLs are parsed, cleaned, and organized

# URL Parsing Configuration (NO REGEX - using proper URL parsers)
url_parsing:
  # Tracker parameters to remove (common tracking/analytics garbage)
  tracker_params:
    - utm_source
    - utm_medium
    - utm_campaign
    - utm_term
    - utm_content
    - utm_id
    - fbclid        # Facebook Click ID
    - gclid         # Google Click ID
    - msclkid       # Microsoft Click ID
    - mc_cid        # Mailchimp Campaign ID
    - mc_eid        # Mailchimp Email ID
    - _ga           # Google Analytics
    - _gid          # Google Analytics
    - _hsenc        # HubSpot
    - _hsmi         # HubSpot
    - mkt_tok       # Marketo
    - ref           # Generic referrer
    - source        # Generic source

  # Normalization rules
  normalize:
    lowercase_hostname: true
    remove_www: true
    remove_trailing_slash: true
    sort_query_params: true
    remove_default_ports: true  # Remove :80 for HTTP, :443 for HTTPS
    remove_fragments: true      # Remove # anchors
    decode_percent_encoding: true

  # Domain classification
  domain_patterns:
    archives: "archives.hartford.edu"
    catalog: "catalog.hartford.edu"
    libguides: "libguides.hartford.edu"
    main_site: "hartford.edu"
    www_site: "www.hartford.edu"

# Organization Methods Configuration
organization_methods:
  # Each method can be enabled/disabled
  enabled:
    - method_01_by_domain
    - method_02_by_depth
    - method_03_by_subdomain
    - method_04_by_path_structure
    - method_05_by_query_params
    - method_06_by_parent_domain
    - method_07_by_tld
    - method_08_by_protocol
    - method_09_by_port
    - method_10_by_path_depth
    - method_11_by_file_extension
    - method_12_by_content_type
    - method_13_hierarchical_tree
    - method_14_by_discovery_time
    - method_15_by_queue_time
    - method_16_normalized_vs_original
    - method_17_by_param_combinations
    - method_18_by_resource_type
    - method_19_by_crawl_status
    - method_20_network_graph
    - method_21_by_url_length
    - method_22_by_parent_child_relationship
    - method_23_by_fragment_presence
    - method_24_canonical_deduplication
    - method_25_by_semantic_category
    - method_26_by_url_components
    - method_27_statistical_clustering
    - method_28_by_response_time
    - method_29_by_status_code_groups
    - method_30_institutional_categorization

# Data Schema Configuration
data_schema:
  required_fields:
    - schema_version
    - url
    - url_normalized
    - depth
    - parent_url

  optional_fields:
    - fragments
    - discovered_at
    - queued_at
    - crawled_at
    - response_time_ms
    - status_code
    - content_type
    - content_length
    - title
    - link_count

# Analysis Configuration
analysis:
  # Data quality checks
  quality_checks:
    check_null_fields: true
    check_url_validity: true
    check_depth_consistency: true
    check_timestamp_validity: true
    check_parent_child_integrity: true

  # Statistical analysis
  statistics:
    generate_distributions: true
    calculate_metrics: true
    identify_outliers: true
    compute_correlations: true

# Visualization Configuration
visualization:
  # Chart types to generate
  charts:
    - bar_charts
    - pie_charts
    - histograms
    - scatter_plots
    - time_series
    - heatmaps
    - network_graphs
    - tree_maps

  # Visualization settings
  settings:
    color_scheme: "viridis"
    figure_size: [12, 8]
    dpi: 300
    save_formats: ["png", "svg", "html"]
    interactive: true

# Output Configuration
output:
  # Where to save processed data
  processed_data_dir: "data/processed"
  analysis_dir: "data/analysis"
  visualization_dir: "data/visualizations"

  # Output formats
  formats:
    - json
    - jsonl
    - csv
    - parquet
    - html

  # Logging
  logging:
    level: "INFO"
    format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
    file: "logs/url_organizer.log"

# Performance Configuration
performance:
  parallel_processing: true
  max_workers: 8
  batch_size: 1000
  cache_enabled: true
  cache_ttl_seconds: 3600
